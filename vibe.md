# Vibe Code Prompts (擴展版)

這是一個用於分析、改進、規劃和理解代碼及軟體項目的 prompts 集合。

---

## 1. 代碼優化與可維護性 (Code Optimization & Maintainability)

- 現在代碼/系統可以應用在生產環境?
- 是否仍然可以優化代碼,令代碼提高可維護性(提示:可以整合,簡化,統一?)
- 這段代碼可以如何重構以提高可讀性和效率？
- 有沒有重複的代碼可以提取成一個共享函數或組件？
- 識別出代碼中的 "code smells" (代碼壞味道) 並提出改善建議。
- 這段代碼的結構是否過於複雜？如果是，請提出簡化的方案。
- 這個類/模塊的職責是否單一？它是否違反了單一職責原則？
- 代碼的依賴關係是否清晰？是否可以使用依賴注入 (Dependency Injection) 來解耦？
- 評估這段代碼是否遵循 SOLID 原則？如果沒有，應如何修改？
- 這段代碼的抽象層次是否恰當？
- 整個系統還有沒有其他的不必要的代碼可以不要?
- 還有沒有代碼可以有優化的空間?例如不必要的.....可以直接刪除
- 還有沒有優化空間?
- 處理所有潛在問題,解決所有曾出現的編程問題
- 保留現在的功能與UI呈現效果，嘗試進一步優化，整合，簡化代碼，以及處理所有潛在問題,解決所有曾出現的編程問題
- 是否不是使用實驗性代碼,而是穩定版本,以防漏洞與不穩定?
---

## 2. 安全性與漏洞分析 (Security & Vulnerability Analysis)

- 檢查這個登入系統有沒有漏洞。
- 分析此代碼是否存在常見的安全漏洞，例如 SQL 注入、跨站腳本 (XSS)、CSRF、或不安全的數據處理？
- 檢查用戶輸入的處理方式是否安全？有沒有進行適當的驗證和清理 (validation and sanitization)？
- 這個文件上傳功能是否安全？它是否能防止惡意文件上傳和路徑遍歷攻擊？
- 密碼或 API 金鑰等敏感資訊是否被安全地儲存和處理？是否存在硬編碼的秘密？
- 檢查身份驗證和授權邏輯，確保用戶只能訪問他們被授權的資源。
- 掃描項目的依賴庫 (dependencies)，是否存在已知的安全漏洞 (CVEs)？
- 分析 Session 管理機制是否安全，能否防止會話固定或劫持？
- 我們的內容安全策略 (CSP) 是否足夠嚴格？

---

## 3. 功能與錯誤檢測 (Functionality & Bug Detection)

- 審查這段代碼的邏輯，看看是否有任何潛在的錯誤或沒有處理到的邊界情況 (edge cases)？
- 這段代碼的錯誤處理機制是否健全？當發生預期之外的錯誤時，程序會如何反應？
- 如果我提供 `[某種特定或意外的輸入]`，這個函數的行為是什麼？
- 模擬執行這段代碼，並找出可能導致崩潰或不正確結果的路徑。
- 這段代碼在多線程或並發環境下是否線程安全？
- 這個功能是否缺少了用戶期望的 `[某個小功能]`？

---

## 4. 性能分析 (Performance Analysis)

- 這段代碼在哪裡可能存在性能瓶頸？
- 有沒有更有效率的算法或數據結構可以用來替代當前的實現？
- 分析內存使用情況，是否存在內存洩漏的風險？
- 這個數據庫查詢是否可以被優化以加快速度？請分析其執行計劃。
- 在處理大量數據時，這段代碼的表現如何？它的擴展性 (scalability) 好嗎？
- 是否存在不必要的計算或重複的數據獲取？能否引入緩存 (caching) 機制？
- 分析網絡請求的數量和大小，是否可以減少或合併？
- 圖片或靜態資源是否經過了適當的壓縮和優化？

---

## 5. 清晰度與文檔 (Clarity & Documentation)

- 變量和函數的命名是否清晰、一致且能自我解釋？如果不是，請提供更好的命名建議。
- 為這段複雜的邏輯添加必要的註釋，解釋其工作原理和 "為什麼" 這樣設計。
- 為這個公開的 API/函數生成文檔 (例如 JSDoc, GoDoc, Sphinx 格式)，說明其用途、參數和返回值。
- 這段代碼是否易於新來的開發者理解？如果不是，哪些部分最令人困惑？
- 用更簡單的語言或一個現實世界的比喻來解釋這段代碼的核心功能。
- 為這個項目或模塊編寫一份 README.md 文件。
- 更新文檔，使其與最新的代碼變更保持同步。

---

## 6. 最佳實踐與代碼風格 (Best Practices & Code Style)

- 這段代碼是否遵循了 `[特定語言，如 Python PEP 8]` 的風格指南？請格式化它。
- 這段代碼是否遵循了 `[特定框架，如 React]` 的最佳實踐？
- 將這段代碼轉換為更現代的語法或模式 (例如，將 JavaScript 的 Promises 轉換為 async/await)。
- 檢查代碼是否遵循了項目中已有的編碼風格和模式。
- 代碼中的硬編碼值（magic numbers/strings）是否可以被替換為常量或配置？
- 檢查是否有未使用的變量、函數或導入，並將其移除。
- 日誌記錄 (logging) 是否提供了足夠的上下文信息（如請求 ID、用戶 ID）以便於調試？

---

## 7. 測試 (Testing)

- 為這個函數編寫單元測試 (unit tests)，覆蓋正常、邊界和錯誤情況。
- 現有的測試是否足夠？有哪些重要的場景被遺漏了？請建議需要補充的測試用例。
- 這個 Bug 是由哪個測試用例發現的？如果沒有，請創建一個可以重現此 Bug 的測試。
- 如何對這段與外部系統（如數據庫、API）交互的代碼進行測試？是否需要模擬（mock/stub）？
- 為這個用戶操作流程編寫一個端到端 (End-to-End) 測試腳本 (例如使用 Cypress, Playwright)。
- 分析測試覆蓋率報告，找出未被測試覆蓋的關鍵代碼區域。
- 編寫集成測試 (integration test) 來驗證 `[模塊A]` 和 `[模塊B]` 之間的交互是否正確。

---

## 8. API 設計 (API Design)

- 這個 API 端點的設計是否符合 RESTful 風格或 GraphQL 最佳實踐？
- API 的請求和響應格式是否清晰、一致且易於理解？
- API 的錯誤響應是否提供了足夠的信息來幫助客戶端進行調試？
- 這個 API 是否存在版本控制？如果未來需要進行破壞性更改，應該如何處理？
- 這個 API 應該使用哪種認證方案（例如 OAuth 2.0, JWT, API Key）？
- API 的分頁 (pagination)、排序 (sorting) 和過濾 (filtering) 機制是否設計良好？
- 這個 API 的速率限制 (rate limiting) 策略是什麼？

---

## 9. 並發與異步 (Concurrency & Asynchronicity)

- 分析這段異步代碼，是否存在競爭條件 (race conditions) 或死鎖 (deadlocks) 的風險？
- 使用 async/await 或其他異步模式，這段回調地獄 (callback hell) 的代碼能否被簡化？
- 在並發訪問共享資源時，是否使用了適當的鎖或同步機制？
- 這個異步任務的錯誤處理是否可靠？能否確保不會有未被捕獲的 Promise rejections？
- 如果這個任務失敗了，是否有重試 (retry) 機制？

---

## 10. 數據庫與結構設計 (Database & Schema Design)

- 為 `[某個功能，如博客系統]` 設計一套完整的數據庫表結構 (schema)。
- 評估當前的數據庫 schema 設計，是否存在設計缺陷？是否需要反正規化 (denormalization)？
- 編寫一個數據庫遷移 (migration) 腳本，為 `[表名]` 添加 `[列名]`。
- 這個複雜的 SQL 查詢能否被優化？或者使用 ORM 的查詢方式能否更高效？
- 選擇合適的索引策略來優化 `[某個查詢]` 的性能。
- 數據庫的備份和恢復策略是什麼？

---

## 11. DevOps與基礎設施 (DevOps & Infrastructure)

- 為這個 `[Node.js/Python/Go]` 應用程序編寫一個優化的、多階段構建的 Dockerfile。
- 創建一個 CI/CD 配置文件 (如 `.github/workflows/main.yml` 或 `gitlab-ci.yml`)，用於自動化測試和部署。
- 如何配置這個應用的日誌記錄 (logging)、監控 (monitoring) 和告警 (alerting)？
- 編寫一個基礎設施即代碼 (IaC) 腳本 (例如 Terraform, Pulumi)，用來部署 `[資源，如服務器、數據庫]`。
- 應該如何為這個應用程序實現藍綠部署 (Blue-Green Deployment) 或金絲雀發布 (Canary Release)？
- 我們的災難恢復 (Disaster Recovery) 計劃是什麼？

---

## 12. 項目管理與規劃 (Project Management & Planning)

- 將「實現 `[某個複雜功能，如購物車]`」這個大任務分解成更小的、可執行的子任務列表。
- 根據這段代碼的複雜性，估算實現 `[某個新功能]` 需要多少開發時間？
- 為這個項目生成一份技術債務 (technical debt) 報告，並按優先級排序。
- 比較 `[技術A]` 和 `[技術B]` 的優缺點，為我們的項目做出技術選型建議。
- 創建一個新項目的初始文件和目錄結構。
- 我們的代碼審查 (Code Review) 流程是怎樣的？有什麼可以改進的地方？

---

## 13. 用戶體驗與界面設計 (User Experience & UI/UX)

- 評估這個 UI 組件的無障礙性 (Accessibility, a11y)，是否符合 WCAG 標準？
- 這個用戶界面的佈局在移動設備上是否友好 (Responsive Design)？
- 從用戶體驗的角度，這個操作流程是否可以簡化？請提出改進建議。
- 這個頁面的加載速度如何？前端性能有哪些可以優化的地方？
- 這個 UI 的狀態管理 (state management) 是否清晰？當用戶交互時，數據流是怎樣的？
- 用戶反饋渠道是什麼？我們如何收集和處理用戶的意見？

---

## 14. 代碼轉換與遷移 (Code Conversion & Migration)

- 將這段 Python 2 代碼轉換為現代的 Python 3 版本。
- 將這個基於 Class 的 React 組件重構為使用 Hooks 的功能組件。
- 我需要從 `[舊數據庫A]` 遷移到 `[新數據庫B]`，請提供一個詳細的數據遷移策略和步驟。
- 將這段 `[語言A]` 的代碼邏輯，用 `[語言B]` 重新實現。
- 升級 `[框架/庫]` 到最新版本，並指出可能存在的破壞性更改以及如何修復它們。
- 如何確保在遷移過程中數據的一致性和完整性？

---

## 15. 教學與解釋 (Educational & Explanatory)

- 我是 `[語言/框架]` 的初學者，請逐行解釋這段代碼在做什麼。
- 這個算法的時間複雜度和空間複雜度是多少？為什麼？
- `[設計模式A，如觀察者模式]` 和 `[設計模式B，如發布/訂閱模式]` 有什麼區別？這個場景應該用哪個？
- 解釋 `[某個編程概念，如閉包、異步、宏]` 的工作原理。
- 這段代碼為什麼要這樣寫？它解決了什麼特定的問題？
- 畫一個序列圖或流程圖來解釋這個系統的工作流程。

---

## 16. 法律與合規 (Legal & Compliance)

- 檢查這個項目使用的所有開源庫及其許可證 (license)，是否存在商業使用上的衝突或限制？
- 這段處理用戶數據的代碼是否符合 GDPR 或 CCPA 等隱私法規的要求？
- 為我的開源項目選擇一個合適的許可證 (如 MIT, GPL, Apache 2.0)，並解釋原因。
- 分析代碼，確保沒有意外地記錄或洩漏個人身份信息 (PII)。
- 我們的服務條款 (Terms of Service) 和隱私政策 (Privacy Policy) 是否需要更新以反映最新的功能？

---

## 17. 系統架構與設計 (System Architecture & Design)

- 當前架構是否支持未來的業務擴展？在哪些方面可能會遇到瓶頸？
- 畫出這個系統的高層架構圖，並標明各個組件之間的交互方式。
- 這個系統是單體架構、微服務架構還是其他架構？這種選擇的優缺點是什麼？
- 數據是如何在系統的不同層級（如前端、後端、數據庫）之間流動的？
- 我們是否應該引入消息隊列 (Message Queue) 或事件驅動架構 (Event-Driven Architecture) 來解耦 `[某個模塊]`？
- 評估當前的架構在容錯性 (fault tolerance) 和高可用性 (high availability) 方面的表現。

---

## 18. AI 與機器學習 (AI & Machine Learning)

- 這個機器學習模型的特徵工程 (feature engineering) 是否合理？有沒有可以補充的特徵？
- 評估這個模型的性能指標（如準確率、召回率、F1 分數），是否存在過擬合或欠擬合的問題？
- 解釋這個模型的預測結果，它為什麼會做出這樣的判斷？（模型可解釋性，XAI）
- 我們的訓練數據是否存在偏見 (bias)？這會如何影響模型的公平性？
- 如何部署、監控和版本化這個機器學習模型？
- 為這個 `[圖像識別/自然語言處理]` 任務，推薦一些合適的模型架構。

---

## 19. 開發文化與團隊協作 (Development Culture & Team Collaboration)

- 如何改進我們的知識共享流程，讓團隊成員更容易找到所需信息？
- 我們的 on-boarding 流程對於新成員是否友好？有哪些可以改進的地方？
- 我們應該如何組織一次有效的技術債務償還衝刺 (sprint)？
- 創建一個 Pull Request (PR) / Merge Request (MR) 的模板，以確保提交的質量。
- 我們的團隊是否對 `[某個新技術]` 進行了足夠的學習和探索？
- 如何在團隊中推廣單元測試或 TDD (測試驅動開發) 的文化？

---

## 20. 商業邏輯與領域知識 (Business Logic & Domain Knowledge)

- 這段代碼實現的商業規則 `[具體規則]` 是否準確？有沒有被忽略的特殊情況？
- 用戶 `[角色A]` 和用戶 `[角色B]` 在使用 `[某個功能]` 時，業務流程上有什麼不同？
- 解釋一下 `[某個行業術語或縮寫]` 在我們系統中的具體含義。
- 這個功能的改變會對下游的 `[某個業務流程]` 產生什麼影響？
- 如果 `[某個外部條件，如政策法規]` 發生變化，我們的系統需要做哪些調整？
