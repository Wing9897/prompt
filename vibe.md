# Vibe Code Prompts (擴展版)

這是一個用於分析、改進、規劃和理解代碼及軟體項目的 prompts 集合。

---

## 1. 代碼優化與可維護性 (Code Optimization & Maintainability)

評估當前代碼/系統的生產環境適用性，並深入分析代碼結構、依賴關係、SOLID 原則遵循度，以及是否存在代碼壞味道(code smells)、複雜性過高、職責不單一等問題。檢查代碼中是否有重複邏輯可以提取成共享函數或組件，以及依賴注入的使用情況和抽象層次的合理性，確保代碼的可維護性和可讀性。保留現有功能和UI呈現效果的前提下，通過整合、簡化、統一和優化來提升代碼質量，同時移除不必要的代碼、處理所有潛在問題，並解決所有曾出現的編程問題，確保系統具有最佳的優化空間和維護效率。

---

## 2. 安全性與漏洞分析 (Security & Vulnerability Analysis)

全面檢查系統是否存在常見安全漏洞，包括SQL注入、跨站腳本(XSS)、CSRF攻擊、不安全的數據處理、文件上傳漏洞、路徑遍歷攻擊等，並評估用戶輸入的驗證和清理(validation and sanitization)機制是否完善。分析密碼、API金鑰等敏感資訊的儲存和處理安全性，檢查是否存在硬編碼秘密，並驗證身份驗證和授權邏輯，確保用戶只能訪問被授權的資源。掃描項目依賴庫中的已知安全漏洞(CVEs)，評估Session管理機制的安全性以防止會話固定或劫持，並檢查內容安全策略(CSP)的嚴格程度，確保整體系統的安全防護體系完整可靠。

---

## 3. 功能與錯誤檢測 (Functionality & Bug Detection)

深入審查代碼邏輯，識別潛在錯誤、未處理的邊界情況(edge cases)、特定或意外輸入下的函數行為異常，以及可能導致系統崩潰或產生不正確結果的執行路徑。評估錯誤處理機制的健全性，確保在發生預期外錯誤時程序能夠優雅處理，並檢查代碼在多線程或並發環境下的線程安全性。通過模擬執行和系統性測試，發現功能缺失、用戶期望的小功能未實現等問題，確保系統功能完整性和穩定性。

---

## 4. 性能分析 (Performance Analysis)

識別代碼中可能存在的性能瓶頸，分析是否有更高效的算法或數據結構可以替代當前實現，並深入評估內存使用情況以防止內存洩漏風險。優化數據庫查詢性能並分析執行計劃，評估代碼在處理大量數據時的表現和擴展性(scalability)，檢查是否存在不必要的計算或重複的數據獲取。引入適當的緩存(caching)機制，分析和優化網絡請求的數量和大小，確保圖片和靜態資源經過適當壓縮和優化，從而全面提升系統的整體性能表現。

---

## 5. 清晰度與文檔 (Clarity & Documentation)

評估變量和函數命名的清晰性、一致性和自我解釋能力，為複雜邏輯添加必要註釋來解釋工作原理和設計理由，並為公開的API/函數生成標準格式文檔(如JSDoc、GoDoc、Sphinx)來說明用途、參數和返回值。確保代碼對新來開發者的可理解性，識別令人困惑的部分並用簡單語言或現實比喻來解釋核心功能，同時為項目或模塊編寫完整的README.md文件。持續更新文檔以與最新代碼變更保持同步，確保整個項目的可讀性和可維護性達到最佳狀態。

---

## 6. 最佳實踐與代碼風格 (Best Practices & Code Style)

檢查代碼是否遵循特定語言(如Python PEP 8)的風格指南和特定框架(如React)的最佳實踐，並將代碼轉換為更現代的語法或模式(例如將JavaScript的Promises轉換為async/await)。確保代碼遵循項目中已有的編碼風格和模式，識別和替換硬編碼值(magic numbers/strings)為常量或配置，並移除未使用的變量、函數或導入。優化日誌記錄(logging)以提供足夠的上下文信息(如請求ID、用戶ID)便於調試，確保整體代碼品質符合行業標準和團隊規範。

---

## 7. 測試 (Testing)

為函數編寫涵蓋正常、邊界和錯誤情況的單元測試(unit tests)，評估現有測試的充分性並建議補充遺漏的重要場景測試用例，為發現的Bug創建能重現問題的測試案例。針對與外部系統(數據庫、API)交互的代碼制定測試策略，包括適當的模擬(mock/stub)使用，並編寫端到端(End-to-End)測試腳本(如使用Cypress、Playwright)來驗證用戶操作流程。分析測試覆蓋率報告以找出未被測試覆蓋的關鍵代碼區域，編寫集成測試(integration test)來驗證不同模塊間的交互正確性，確保整個測試體系的完整性和有效性。

---

## 8. API 設計 (API Design)

評估API端點設計是否符合RESTful風格或GraphQL最佳實踐，確保請求和響應格式清晰、一致且易於理解，並提供足夠信息的錯誤響應來幫助客戶端調試。分析API版本控制機制以應對未來可能的破壞性更改，選擇適當的認證方案(OAuth 2.0、JWT、API Key等)，並設計完善的分頁(pagination)、排序(sorting)和過濾(filtering)機制。制定合理的速率限制(rate limiting)策略，確保API的安全性、可用性和用戶體驗的最佳平衡。

---

## 9. 並發與異步 (Concurrency & Asynchronicity)

分析異步代碼中是否存在競爭條件(race conditions)或死鎖(deadlocks)風險，使用async/await或其他異步模式來簡化回調地獄(callback hell)，並確保在並發訪問共享資源時使用適當的鎖或同步機制。評估異步任務錯誤處理的可靠性，確保不會有未被捕獲的Promise rejections，並在任務失敗時實現適當的重試(retry)機制。通過系統性的並發安全分析，確保代碼在多線程或異步環境下的正確性和穩定性。

---

## 10. 數據庫與結構設計 (Database & Schema Design)

為特定功能(如博客系統)設計完整的數據庫表結構(schema)，評估當前數據庫schema設計是否存在缺陷以及是否需要反正規化(denormalization)處理。編寫數據庫遷移(migration)腳本來添加新的表或列，優化複雜SQL查詢或評估ORM查詢方式的效率，並選擇合適的索引策略來提升查詢性能。制定完善的數據庫備份和恢復策略，確保數據的完整性、一致性和系統的高可用性。

---

## 11. DevOps與基礎設施 (DevOps & Infrastructure)

為不同應用程序(Node.js/Python/Go)編寫優化的多階段構建Dockerfile，創建CI/CD配置文件(如.github/workflows/main.yml或gitlab-ci.yml)來實現自動化測試和部署流程。配置應用的日誌記錄(logging)、監控(monitoring)和告警(alerting)系統，編寫基礎設施即代碼(IaC)腳本(Terraform、Pulumi)來部署各種資源(服務器、數據庫等)。實現藍綠部署(Blue-Green Deployment)或金絲雀發布(Canary Release)策略，制定完整的災難恢復(Disaster Recovery)計劃，確保系統的可靠性和可維護性。

---

## 12. 項目管理與規劃 (Project Management & Planning)

將複雜功能(如購物車)分解成可執行的子任務列表，根據代碼複雜性準確估算新功能的開發時間，並生成按優先級排序的技術債務(technical debt)報告。比較不同技術方案的優缺點為項目提供技術選型建議，創建新項目的初始文件和目錄結構，並評估和改進代碼審查(Code Review)流程。通過系統化的項目管理方法，確保開發效率和代碼品質的最佳平衡。

---

## 13. 用戶體驗與界面設計 (User Experience & UI/UX)

評估UI組件的無障礙性(Accessibility, a11y)是否符合WCAG標準，檢查用戶界面佈局的響應式設計(Responsive Design)在移動設備上的友好程度，並從用戶體驗角度簡化操作流程。分析頁面加載速度和前端性能優化空間，評估UI狀態管理(state management)的清晰度和用戶交互時的數據流，並建立有效的用戶反饋收集和處理機制。通過全面的用戶體驗分析，確保界面設計的可用性和用戶滿意度。

---

## 14. 代碼轉換與遷移 (Code Conversion & Migration)

執行各種代碼轉換任務，包括Python 2到Python 3的升級、基於Class的React組件重構為使用Hooks的功能組件，以及跨語言的代碼邏輯重新實現。制定從舊數據庫到新數據庫的詳細遷移策略和步驟，處理框架/庫升級過程中的破壞性更改並提供修復方案。確保遷移過程中數據的一致性和完整性，通過系統化的遷移計劃最小化風險和業務中斷。

---

## 15. 教學與解釋 (Educational & Explanatory)

為初學者逐行解釋代碼功能，分析算法的時間複雜度和空間複雜度並解釋原理，比較不同設計模式(如觀察者模式vs發布/訂閱模式)的區別和適用場景。解釋編程概念(如閉包、異步、宏)的工作原理，分析代碼設計的原因和解決的特定問題，並通過序列圖或流程圖來說明系統工作流程。提供深入淺出的技術解釋，幫助不同水平的開發者理解複雜的編程概念和系統架構。

---

## 16. 法律與合規 (Legal & Compliance)

檢查項目使用的所有開源庫及其許可證(license)是否存在商業使用衝突或限制，分析處理用戶數據的代碼是否符合GDPR或CCPA等隱私法規要求。為開源項目選擇合適的許可證(MIT、GPL、Apache 2.0等)並解釋選擇理由，確保代碼中沒有意外記錄或洩漏個人身份信息(PII)。評估和更新服務條款(Terms of Service)和隱私政策(Privacy Policy)以反映最新功能，確保項目在法律和合規方面的完整性。

---

## 17. 系統架構與設計 (System Architecture & Design)

評估當前架構對未來業務擴展的支持能力並識別潛在瓶頸，繪製高層架構圖標明各組件間的交互方式，分析單體架構、微服務架構等不同架構選擇的優缺點。描述數據在系統不同層級(前端、後端、數據庫)間的流動方式，評估是否應該引入消息隊列(Message Queue)或事件驅動架構(Event-Driven Architecture)來解耦模塊。分析當前架構在容錯性(fault tolerance)和高可用性(high availability)方面的表現，確保系統架構的合理性和可擴展性。

---

## 18. AI 與機器學習 (AI & Machine Learning)

評估機器學習模型的特徵工程(feature engineering)合理性並建議可補充的特徵，分析模型性能指標(準確率、召回率、F1分數)是否存在過擬合或欠擬合問題。解釋模型預測結果的原理和判斷依據(模型可解釋性，XAI)，分析訓練數據中的偏見(bias)對模型公平性的影響，並制定模型部署、監控和版本化策略。為特定任務(圖像識別/自然語言處理)推薦合適的模型架構，確保AI系統的有效性和可靠性。

---

## 19. 開發文化與團隊協作 (Development Culture & Team Collaboration)

改進知識共享流程讓團隊成員更容易獲取所需信息，優化新成員的onboarding流程以提升友好度，並組織有效的技術債務償還衝刺(sprint)。創建Pull Request(PR)/Merge Request(MR)模板以確保提交質量，評估團隊對新技術的學習和探索程度，並推廣單元測試或TDD(測試驅動開發)文化。通過建立良好的開發文化和協作機制，提升團隊整體的工作效率和代碼品質。

---

## 20. 商業邏輯與領域知識 (Business Logic & Domain Knowledge)

驗證代碼實現的商業規則準確性並識別被忽略的特殊情況，分析不同用戶角色在使用特定功能時的業務流程差異，解釋行業術語或縮寫在系統中的具體含義。評估功能改變對下游業務流程的影響，分析外部條件(如政策法規)變化時系統需要的調整方案。確保技術實現與業務需求的完美對齊，並為業務邏輯的演進提供靈活的技術支持。
